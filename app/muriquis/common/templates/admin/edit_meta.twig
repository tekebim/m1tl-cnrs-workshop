{% extends "base.twig" %}

{% block title %}{{ projectName }} - Edit metas{% endblock %}

{% block content %}
    <div class="container">
        <div class="leading-loose m-10">
            <form id="edit_form" method="post" class="max-w-xl m-4 px-10 py-8 bg-white rounded shadow-xl mx-auto">
                <input type="hidden" name="act" value="save">
                <h1 class="text-gray-800 font-bold text-2xl">Edition d'un champ optionel</h1>
                <p class="text-gray-800 font-medium ">Pour la table <span class="">{{ meta["table_name"] }}</span></p>
                {% if meta["id"] %}
                <p class=""> Numéro : <span>#{{ meta["id"] }}</span>
                    {% endif %}
                <div class="mt-5">
                    <label class="block text-sm text-gray-00" for="field_name">Nom du champ</label>
                    <input class="w-full px-3 py-1 text-gray-700 bg-gray-200 rounded" id="field_name" name="field_name"
                           type="text" required="" aria-label="Nom du champ" value='{{ meta["field_name"] }}'>
                </div>
                <div class="mt-2">
                    <label class="block text-sm text-gray-600" for="cus_email">Intitulé du champ (pour la
                        recherche)</label>
                    <input class="w-full px-3 py-1 text-gray-700 bg-gray-200 rounded" type="text" name='label'
                           value='{{ meta["label"] }}'>
                </div>

                <div class=" mt-2 grid grid-cols-2">
                    <div class="col-span-1 pr-2">
                        <label class=" text-sm  text-gray-600" for="cus_email">Type du champ</label>
                        {% if meta["id"] == -1 %}
                            <select name="type" class="w-full px-2 py-2 text-gray-700 bg-gray-200 rounded">
                                {% for t in types %}
                                    <option value="{{ t }}"{% if t == meta["type"] %} selected{% endif %}>{{ t }}</option>
                                {% endfor %}
                            </select>
                        {% else %}
                            {{ meta["type"] }}
                        {% endif %}
                    </div>
                    <div class="col-span-1">
                        <label class="text-sm text-gray-600" for="cus_email">Champ actif ?</label>
                        <select name="active" class="w-full px-2 py-2 text-gray-700 bg-gray-200 rounded">
                            <option value="1" {% if '1' == meta["active"] %} selected{% endif %}>Oui</option>
                            <option value="0" {% if '0' == meta["active"] %} selected{% endif %}>Non</option>
                        </select>
                    </div>
                </div>

                <div class="mt-4">
                    <button class="px-4 py-1 text-white font-bold w-full tracking-wider bg-primary rounded"
                            type="submit">
                        Envoyer
                    </button>
                </div>
            </form>
        </div>
    </div>
{% endblock %}
